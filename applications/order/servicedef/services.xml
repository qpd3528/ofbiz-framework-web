<?xml version="1.0" encoding="UTF-8" ?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="https://ofbiz.apache.org/dtds/services.xsd">
    <description>Order Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Order processing services -->
    <service name="orderNotificationInterface" engine="interface" location="" invoke=""><!-- 주문 알림 인터페이스 -->
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="emailType" type="String" mode="OUT" optional="false"/>
        <attribute name="screenUri" type="String" mode="IN" optional="true"/>
        <attribute name="comments" type="String" mode="IN" optional="true"/>
        <attribute name="body" type="String" mode="OUT" optional="true"/>
        <attribute name="sendTo" type="String" mode="IN" optional="true"/>
        <attribute name="sendCc" type="String" mode="IN" optional="true"/>
        <attribute name="sendBcc" type="String" mode="IN" optional="true"/>
        <attribute name="note" type="String" mode="IN" optional="true"/>
        <attribute name="temporaryAnonymousUserLogin" type="org.apache.ofbiz.entity.GenericValue" mode="IN" optional="true"/>
        <attribute name="messageWrapper" type="org.apache.ofbiz.service.mail.MimeMessageWrapper" mode="OUT" optional="true"/>
        <attribute name="orderId" type="String" mode="OUT" optional="true"/>
        <attribute name="subject" type="String" mode="OUT" optional="true"/>
        <attribute name="communicationEventId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="sendOrderConfirmation" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendOrderConfirmNotification"><!-- 주문 확인서 알림 보내기 -->
        <description>Send a order confirmation</description>
        <implements service="orderNotificationInterface"/>
    </service>
    <service name="sendOrderChangeNotification" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendOrderChangeNotification"><!-- 주문 변경 알림 보내기 -->
        <description>Send a order notification</description>
        <implements service="orderNotificationInterface"/>
    </service>
    <service name="sendOrderCompleteNotification" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendOrderCompleteNotification"><!-- 주문 완료 알림 보내기 -->
        <description>Send a order notification</description>
        <implements service="orderNotificationInterface"/>
    </service>
    <service name="sendOrderBackorderNotification" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendOrderBackorderNotification"><!-- 주문 이월 알림 보내기 -->
        <description>Send a order notification</description>
        <implements service="orderNotificationInterface"/>
    </service>
    <service name="sendOrderPayRetryNotification" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendOrderPayRetryNotification"><!-- 주문 결제 재시도 알림 보내기 -->
        <description>Send a order notification</description>
        <implements service="orderNotificationInterface"/>
    </service>

    <service name="sendPOEmail" engine="java" require-new-transaction="true" max-retry="3"
             location="org.apache.ofbiz.order.order.OrderServices" invoke="sendPOEmail"><!-- 구매 주문서 이메일 발송 -->
        <description>Send Purchase Order Email</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="emailTemplateSettingId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="sendProcessNotification" engine="java" require-new-transaction="true" max-retry="3"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="sendProcessNotification"><!-- 프로세스 알림 보내기 -->
        <description>Limit Service for order processing workflow; sends activitiy notifications</description>
        <attribute name="workEffortId" type="String" mode="IN"/>
        <attribute name="adminEmailList" type="String" mode="IN"/>
        <attribute name="assignedPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="assignedRoleTypeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createOrderNotificationLog" engine="entity-auto" default-entity-name="OrderNotification" invoke="create"><!-- 주문 알림 로그 생성 -->
        <description>Logs when a notification was sent</description>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="emailType" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingEmailType"/>
            </type-validate>
        </attribute>
        <attribute name="comments" type="String" mode="IN" optional="true"/>
    </service>

    <service name="storeOrder" engine="java" validate="true" auth="true" export="true" action="POST"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createOrder"><!-- 주문 생성 -->
        <description>Creates order entities</description>
        <attribute name="partyId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPartyId"/>
            </type-validate>
        </attribute>
        <attribute name="placingCustomerPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="billToCustomerPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="shipToCustomerPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="endUserCustomerPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="billFromVendorPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="shipFromVendorPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="supplierAgentPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="orderName" type="String" mode="IN" optional="true"/>
        <attribute name="visitId" type="String" mode="IN" optional="true"/>
        <attribute name="affiliateId" type="String" mode="IN" optional="true"/>
        <attribute name="productStoreId" type="String" mode="IN" optional="true"/>
        <attribute name="originFacilityId" type="String" mode="IN" optional="true"/>
        <attribute name="transactionId" type="String" mode="IN" optional="true"/>
        <attribute name="terminalId" type="String" mode="IN" optional="true"/>
        <attribute name="workEffortId" type="String" mode="IN" optional="true"/>
        <attribute name="autoOrderShoppingListId" type="String" mode="IN" optional="true"/>
        <attribute name="webSiteId" type="String" mode="IN" optional="true"/>
        <attribute name="externalId" type="String" mode="IN" optional="true"/>
        <attribute name="internalCode" type="String" mode="IN" optional="true"/>
        <attribute name="agreementId" type="String" mode="IN" optional="true"/>
        <attribute name="distributorId" type="String" mode="IN" optional="true"/>
        <attribute name="orderTypeId" type="String" mode="INOUT" optional="false"/>
        <attribute name="salesChannelEnumId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItemGroups" type="List" mode="IN" optional="true"/>
        <attribute name="orderItems" type="List" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderItems"/>
            </type-validate>
        </attribute>
        <attribute name="orderTerms" type="List" mode="IN" optional="true"/>
        <!-- workeffort contains the rental start/enddate, nbr of persons. WorkEfforts is mandatory for ordertype = RENTAL_ORDER_ITEM-->
        <attribute name="workEfforts" type="List" mode="IN" optional="true"/>
        <attribute name="orderAdjustments" type="List" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderAdjustments"/>
            </type-validate>
        </attribute>
        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="shippingAmount" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="firstAttemptOrderId" type="String" mode="IN" optional="true"/>
        <attribute name="currencyUom" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingCurrencyUom"/>
            </type-validate>
        </attribute>
        <attribute name="grandTotal" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="taxAmount" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="orderDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="orderItemShipGroupInfo" type="List" mode="IN" optional="true"/>
        <attribute name="orderItemAttributes" type="List" mode="IN" optional="true"/>
        <attribute name="orderAttributes" type="List" mode="IN" optional="true"/>
        <attribute name="orderPaymentInfo" type="List" mode="IN" optional="true"/>
        <attribute name="orderContactMechs" type="List" mode="IN" optional="true"/>
        <attribute name="orderItemContactMechs" type="List" mode="IN" optional="true"/>
        <attribute name="orderItemPriceInfos" type="List" mode="IN" optional="true"/>
        <attribute name="orderProductPromoUses" type="List" mode="IN" optional="true"/>
        <attribute name="orderProductPromoCodes" type="Set" mode="IN" optional="true"/>
        <attribute name="orderItemSurveyResponses" type="List" mode="IN" optional="true"/>
        <attribute name="trackingCodeOrders" type="List" mode="IN" optional="true"/>
        <attribute name="orderAdditionalPartyRoleMap" type="Map" mode="IN" optional="true"/>
        <attribute name="orderItemAssociations" type="List" mode="IN" optional="true"/>
        <attribute name="orderInternalNotes" type="List" mode="IN" optional="true"/>
        <attribute name="orderNotes" type="List" mode="IN" optional="true"/>
        <attribute name="supplierPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="INOUT" optional="true"/>
        <attribute name="originOrderId" type="String" mode="IN" optional="true"/>
        <attribute name="isRushOrder" type="String" mode="IN" optional="true"/>
        <attribute name="priority" type="String" mode="IN" optional="true"/>
        <attribute name="statusId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="callProcessOrderPayments" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="callProcessOrderPayments" auth="false"><!-- 전화 주문 결제 처리 -->
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShoppingCart"/>
            </type-validate>
        </attribute>
        <attribute name="manualHold" type="Boolean" mode="IN" optional="true"/>
    </service>
    <service name="createOrderFromShoppingCart" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createOrderFromShoppingCart" auth="false"><!-- 장바구니에서 주문 생성 -->
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="INOUT" optional="false"/>
        <attribute name="orderId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="createSimpleNonProductSalesOrder" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createSimpleNonProductSalesOrder" auth="true"><!-- 단순 비제품 판매 주문 생성 -->
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPaymentMethodId"/>
            </type-validate>
        </attribute>
        <attribute name="productStoreId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingProductStoreId"/>
            </type-validate>
        </attribute>
        <attribute name="currency" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingCurrency"/>
            </type-validate>
        </attribute>
        <attribute name="partyId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPartyId"/>
            </type-validate>
        </attribute>
        <attribute name="itemMap" type="Map" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingItemMap"/>
            </type-validate>
        </attribute>
        <attribute name="orderId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="createOrderItemBilling" default-entity-name="OrderItemBilling" engine="entity-auto" invoke="create"><!-- 주문 청구 항목 생성 -->
        <description>Create a new order item billing record</description>
        <auto-attributes mode="IN" include="pk"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
    </service>

    <service name="orderAdjustmentPermissionCheck" engine="simple"
            location="component://order/minilang/order/OrderSimpleMethods.xml" invoke="orderAdjustmentPermissionCheck"><!-- 주문 조정 권한 확인 -->
        <description>Permission service for the creation and editing of order adjustments</description>
        <implements service="permissionInterface"/>
    </service>

    <service name="createOrderAdjustment" default-entity-name="OrderAdjustment" engine="entity-auto" invoke="create"><!-- 주문 조정 생성 -->
        <description>Creates a new order adjustment record</description>
        <permission-service service-name="orderAdjustmentPermissionCheck" main-action="CREATE"/>
        <auto-attributes mode="OUT" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <override name="orderAdjustmentTypeId" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderAdjustmentTypeId"/>
            </type-validate>
        </override>
        <override name="orderId" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </override>
    </service>
    <service name="updateOrderAdjustment" default-entity-name="OrderAdjustment" engine="entity-auto" invoke="update"><!-- 주문 조정 업데이트 -->
        <description>Update an order adjustment record</description>
        <permission-service service-name="orderAdjustmentPermissionCheck" main-action="UPDATE"/>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <override name="orderId" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </override>
    </service>
    <service name="deleteOrderAdjustment" default-entity-name="OrderAdjustment" engine="entity-auto" invoke="delete"><!-- 주문 조정 삭제 -->
        <description>Delete an order adjustment record</description>
        <permission-service service-name="orderAdjustmentPermissionCheck" main-action="DELETE"/>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="false">  <!-- needed for resetGrandTotal seca -->
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="productPromoCodeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createOrderAdjustmentBilling" default-entity-name="OrderAdjustmentBilling" engine="entity-auto" invoke="create"><!-- 주문 조정 청구 생성 -->
        <description>Create a new order adjustment billing record</description>
        <auto-attributes mode="IN" include="pk"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
    </service>

    <service name="createPaymentFromPreference" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createPaymentFromPreference"><!-- 기본 설정에서 지불 생성 -->
        <description>Creates a payment using the order payment preference</description>
        <attribute name="orderPaymentPreferenceId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderPaymentPreferenceId"/>
            </type-validate>
        </attribute>
        <attribute name="paymentFromId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentRefNum" type="String" mode="IN" optional="true"/>
        <attribute name="comments" type="String" mode="IN" optional="true"/>
        <attribute name="eventDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="updateTrackingNumber" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="updateTrackingNumber"><!-- 추적 번호 업데이트 -->
        <description>Sets the tracking number on a shipment preference</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="trackingNumber" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingTrackingNumber"/>
            </type-validate>
        </attribute>
    </service>

    <service name="resetGrandTotal" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="resetGrandTotal" require-new-transaction="false"><!-- 총계 재설정 -->
        <!-- NOTE: require-new-transaction is false because this service is often run as a sync action on an ECA, so generally at the same time and in a separate TX it runs into locking problems -->
        <description>Reset the grandTotal of an existing order</description>
        <attribute name="orderId" type="String" mode="IN"/>
    </service>
    <service name="setEmptyGrandTotals" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setEmptyGrandTotals"><!-- 비어있는 총합계 설정 -->
        <description>Find all OrderHeaders with no grandTotal and call resetGrandTotal</description>
        <attribute name="forceAll" type="Boolean" mode="IN" optional="true"/>
    </service>

    <service name="recalcShippingTotal" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="recalcOrderShipping"><!-- 재계산 배송 총계 -->
        <description>Adjust the order shipping amount</description>
        <attribute name="orderId" type="String" mode="IN"/>
    </service>
    <service name="recalcTaxTotal" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="recalcOrderTax"><!-- 세금 총액 재계산 -->
        <description>Adjust the order tax amount</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="changeOrderStatus" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setOrderStatus"><!-- 주문 상태 변경 -->
        <description>Change the status of an existing order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="statusId" type="String" mode="IN"/>
        <attribute name="setItemStatus" type="String" mode="IN" optional="true"/>
        <attribute name="oldStatusId" type="String" mode="OUT" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOldStatusId"/>
            </type-validate>
        </attribute>
        <attribute name="orderStatusId" type="String" mode="OUT" optional="true"/>
        <attribute name="orderTypeId" type="String" mode="OUT" optional="true"/>
        <attribute name="needsInventoryIssuance" type="String" mode="OUT" optional="true"/>
        <attribute name="grandTotal" type="BigDecimal" mode="OUT" optional="true"/>
        <attribute name="changeReason" type="String" mode="IN" optional="true"/>
    </service>

    <service name="changeOrderItemStatus" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setItemStatus"><!-- 주문 항목 상태 변경 -->
        <description>Change the status of an existing order item.  If no orderItemSeqId is specified, the status of all order items will be changed.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="fromStatusId" type="String" mode="IN" optional="true"/>
        <attribute name="statusId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingStatusId"/>
            </type-validate>
        </attribute>
        <attribute name="statusDateTime" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="changeReason" type="String" mode="IN" optional="true"/>
    </service>

    <service name="cancelOrderItem" engine="java" auth="true" transaction-timeout="3000" export="true" action="PUT"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelOrderItem"><!-- 주문 항목 취소 -->
        <description>Cancel an Order Item Quantity</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="cancelQuantity" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="itemReasonMap" type="Map" mode="IN" string-map-prefix="irm_" optional="true"/>
        <attribute name="itemCommentMap" type="Map" mode="IN" string-map-prefix="icm_" optional="true"/>
        <attribute name="itemQtyMap" type="Map" mode="IN" string-map-prefix="iqm_" optional="true"/>
    </service>
    <service name="cancelOrderItemNoActions" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelOrderItem"><!-- 주문 항목 취소 조치 없음 -->
        <description>Cancel an Order Item Quantity. This is equal to cancelOrderItem but no ECAs are attached to this service.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="cancelQuantity" type="BigDecimal" mode="IN" optional="true"/>
    </service>

    <service name="updateOrderItems" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="updateApprovedOrderItems" transaction-timeout="7200"><!-- 주문 항목 업데이트 -->
        <description>Update the quantities/prices for an existing order</description>
        <attribute name="orderId" type="String" mode="INOUT" optional="false"/>
        <attribute name="supplierPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="orderTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="calcTax" type="Boolean" mode="IN" optional="true" default-value="true"/>
        <attribute name="itemDescriptionMap" type="Map" mode="IN" string-map-prefix="idm_" optional="true"/>
        <attribute name="itemQtyMap" type="Map" mode="IN" string-map-prefix="iqm_" optional="false"/>
        <attribute name="itemPriceMap" type="Map" mode="IN" string-map-prefix="ipm_" optional="false"/>
        <attribute name="overridePriceMap" type="Map" mode="IN" string-map-prefix="opm_" optional="false"/>
        <attribute name="itemReasonMap" type="Map" mode="IN" string-map-prefix="irm_" optional="true"/>
        <attribute name="itemCommentMap" type="Map" mode="IN" string-map-prefix="icm_" optional="true"/>
        <attribute name="itemAttributesMap" type="Map" mode="IN" string-map-prefix="iam_" optional="true"/>
        <attribute name="itemShipDateMap" type="Map" mode="IN" string-map-prefix="isdm_" optional="true"/>
        <attribute name="itemDeliveryDateMap" type="Map" mode="IN" string-map-prefix="iddm_" optional="true"/>
        <attribute name="itemReserveAfterDateMap" type="Map" mode="IN" string-map-prefix="iradm_" optional="true"/>
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="OUT" optional="false"/>
    </service>
    <service name="loadCartForUpdate" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="loadCartForUpdate"><!-- 업데이트를 위해 카트 로드 -->
        <description>Load an existing shopping cart</description>
        <attribute name="orderId" type="String" mode="INOUT" optional="false"/>
        <!-- <attribute name="userLogin" type="String" mode="IN" optional="false"/> -->
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="OUT" optional="false"/>
    </service>
    <service name="saveUpdatedCartToOrder" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="saveUpdatedCartToOrder"><!-- 업데이트 된 장바구니를 주문에 저장 -->
        <description>Update the quantities/prices for an existing order</description>
        <attribute name="orderId" type="String" mode="INOUT" optional="false"/>
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShoppingCart"/>
            </type-validate>
        </attribute>
        <attribute name="calcTax" type="Boolean" mode="IN" optional="true" default-value="true"/>
        <attribute name="deleteItems" type="Boolean" mode="IN" optional="true" default-value="false"/>
        <attribute name="changeMap" type="Map" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingChangeMap"/>
            </type-validate>
        </attribute>
    </service>
    <service name="appendOrderItem" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="addItemToApprovedOrder"><!-- 주문 항목 추가 -->
        <description>Append an item to an existing order</description>
        <attribute name="orderId" type="String" mode="INOUT" optional="false"/>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="productId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingProductId"/>
            </type-validate>
        </attribute>
        <attribute name="prodCatalogId" type="String" mode="IN" optional="true"/>
        <attribute name="basePrice" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="quantity" type="BigDecimal" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingQuantity"/>
            </type-validate>
        </attribute>
        <attribute name="amount" type="BigDecimal" mode="IN" optional="true"/>
        <attribute name="overridePrice" type="String" mode="IN" optional="true"/>
        <attribute name="reasonEnumId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItemTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="changeComments" type="String" mode="IN" optional="true"/>
        <attribute name="itemDesiredDeliveryDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="itemAttributesMap" type="Map" mode="IN" optional="true"/>
        <attribute name="calcTax" type="Boolean" mode="IN" optional="true" default-value="true"/>
        <attribute name="shoppingCart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="OUT" optional="false"/>
    </service>

    <service name="recreateOrderAdjustments" engine="simple" auth="true"
            location="component://order/minilang/order/OrderServices.xml" invoke="recreateOrderAdjustments"><!-- 주문 조정 재생성 -->
        <description>Remove all existing order adjustments, recalc them and persist in OrderAdjustment.</description>
        <permission-service service-name="orderAdjustmentPermissionCheck" main-action="UPDATE"/>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="processOrderPayments" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="processOrderPayments"><!-- 주문 결제 처리 -->
        <description>Process payments for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="updateOrderPaymentPreference" engine="java" auth="true" default-entity-name="OrderPaymentPreference"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="updateOrderPaymentPreference"><!-- 주문 결제 기본 설정 업데이트 -->
        <auto-attributes mode="INOUT" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <attribute name="checkOutPaymentId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="checkOrderItemStatus" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="checkItemStatus"><!-- 주문 항목 상태 확인 -->
      <description>Check the status of all items and cancel/approve/complete the order if we can</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="updateOrderStatusFromReceipt" engine="simple"
            location="component://order/minilang/order/OrderSimpleMethods.xml" invoke="updateOrderStatusFromReceipt"><!-- 입고에서 주문 상태 업데이트 -->
        <description>Updates the (purchase) order/order item status based on receipt</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="currentStatusId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="autoCancelOrderItems" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelFlaggedSalesOrders"><!-- 자동 취소 주문 항목 -->
            <description>Batch service which automatically cancels sales order and/or sales order items.
                Sales orders : These will be cancelled if the order status equals CREATED and it has been
                  either 30 days or ProductStore.daysCancelNoPay since the order was created. A value of 0 for
                  ProductStore.daysCancelNoPay means do not auto-cancel.
                Sales order items : This is only for orders on the APPROVED status. Items will be cancelled if the
                  item is flagged with an autoCancelDate and does not have a dontCancelDate and dontCancelUserLogin
                  associated with it, and it is past the autoCancelDate.</description>

        <!-- this service has no parameters IN or OUT -->
    </service>

    <service name="setAllowOrderSplit" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="allowOrderSplit"><!-- 주문 분할 허용 설정 -->
        <description>Set the Allow Split Flag To 'Y' (true)</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="getOrderItemShipGroupEstimatedShipDate" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="getOrderItemShipGroupEstimatedShipDate" auth="true"><!-- 주문 항목 배송 그룹 예상 배송 날짜 가져오기 -->
        <description>Compute and return the OrderItemShipGroup estimated ship date based on the associated items.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="estimatedShipDate" type="Timestamp" mode="OUT" optional="true"/>
    </service>

    <service name="addOrderRole" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="addRoleType"><!-- 주문 역할 추가 -->
        <description>Adds a RoleType to an order</description>
        <attribute name="removeOld" type="Boolean" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>

    <service name="removeOrderRole" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="removeRoleType"><!-- 주문 역할 제거 -->
        <description>Removes a RoleType from an order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>

    <service name="createOrderPaymentPreference" default-entity-name="OrderPaymentPreference" engine="entity-auto" invoke="create"><!-- 주문 결제 기본 설정 생성 -->
        <description>Creates an order payment preference</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes include="pk" mode="OUT"/>
    </service>

    <service name="createOrderNote" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createOrderNote" auth="true"><!-- 주문 메모 생성 -->
        <description>Create a note item and associate with a order header</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="note" type="String" mode="IN" allow-html="safe"/>
        <attribute name="internalNote" type="String" mode="IN"/>
        <attribute name="noteName" type="String" mode="IN" optional="true"/>
    </service>

    <service name="updateOrderNote" engine="simple" default-entity-name="OrderHeaderNote"
            location="component://order/minilang/order/OrderServices.xml" invoke="updateOrderNote" auth="true"><!-- 주문 메모 업데이트 -->
        <description>Toggle Order Note and make it either Public or Private</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="noteId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingNoteId"/>
            </type-validate>
        </attribute>
        <attribute name="internalNote" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingInternalNote"/>
            </type-validate>
        </attribute>
    </service>

    <!-- Order (digital) Fulfillment Services -->
    <service name="checkDigitalItemFulfillment" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="checkDigitalItemFulfillment" auth="true"><!-- 디지털 품목 처리 확인 -->
        <description>Check an order for digital items and invoice/capture + fulfill the items</description>
        <attribute name="orderId" type="String" mode="IN"/>
    </service>
   <service name="fulfillDigitalItems" engine="java" require-new-transaction="true" transaction-timeout="300"
       location="org.apache.ofbiz.order.order.OrderServices" invoke="fulfillDigitalItems"><!-- 디지털 아이템 이행 -->
       <description>Order Fulfillment</description>
       <attribute name="orderId" type="String" mode="IN" optional="false">
           <type-validate>
               <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
           </type-validate>
       </attribute>
       <attribute name="orderItems" type="java.util.List" mode="IN" optional="false">
           <type-validate>
               <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderItems"/>
           </type-validate>
       </attribute>
   </service>
   <service name="itemFulfillmentInterface" engine="interface" invoke="" location="" auth="false" ><!-- 품목 이행 인터페이스 -->
       <auto-attributes entity-name="ProductContent" include="pk" mode="IN" optional="false"/>
       <attribute name="orderItem" type="org.apache.ofbiz.entity.GenericValue" mode="IN" optional="false">
           <type-validate>
               <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderItem"/>
           </type-validate>
       </attribute>
   </service>
    <service name="invoiceServiceItems" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="invoiceServiceItems" auth="true"><!-- 송장 서비스 항목 -->
        <description>Check an order for service items and invoice the items</description>
        <attribute name="orderId" type="String" mode="IN"/>
    </service>
    <!-- Order View Services -->
    <service name="getOrderedSummaryInformation" engine="groovy"
            location="component://order/groovyScripts/order/OrderServices.groovy" invoke="getOrderedSummaryInformation"><!-- 주문 요약 정보 얻기 -->
        <description>Get Ordered Summary Information</description>
        <attribute name="partyId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPartyId"/>
            </type-validate>
        </attribute>
        <attribute name="roleTypeId" type="String" mode="IN" optional="true"/> <!-- defaults to PLACING_CUSTOMER -->
        <attribute name="orderTypeId" type="String" mode="IN" optional="true"/> <!-- defaults to SALES_ORDER -->
        <attribute name="statusId" type="String" mode="IN" optional="true"/> <!-- defaults to ORDER_COMPLETED -->
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="monthsToInclude" type="Integer" mode="IN" optional="true"/> <!-- if monthsToInclude specified along with fromDate/thruDate, will override fromDate/thruDate -->
        <attribute name="totalOrders" type="Long" mode="OUT" optional="false"/>
        <attribute name="totalGrandAmount" type="BigDecimal" mode="OUT" optional="false"/>
        <attribute name="totalSubRemainingAmount" type="BigDecimal" mode="OUT" optional="false"/>
    </service>

    <service name="getOrderHeaderInformation" engine="java" validate="false"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="getOrderHeaderInformation"><!-- 주문 헤더 정보 가져오기 -->
        <description>Get basic order header information.</description>
        <auto-attributes entity-name="OrderHeader" include="pk" mode="INOUT" optional="false"/>
        <auto-attributes entity-name="OrderHeader" include="nonpk" mode="OUT" optional="true"/>
    </service>

    <service name="getOrderShippingAmount" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="getOrderShippingAmount"><!-- 주문 배송 금액 받기 -->
        <description>Get the total shipping for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shippingAmount" type="BigDecimal" mode="OUT" optional="false"/>
    </service>
    <service name="getOrderStatus" engine="simple" location="component://order/minilang/order/OrderServices.xml"
            invoke="getOrderStatus" auth="false"><!-- 주문 상태 가져오기 -->
        <description>Gets the order status</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="statusId" type="String" mode="OUT" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingStatusId"/>
            </type-validate>
        </attribute>
    </service>

    <!-- Order Delivery Services -->
    <service name="createOrderDeliverySchedule" default-entity-name="OrderDeliverySchedule" engine="groovy"
            location="component://order/groovyScripts/order/OrderDeliveryServices.groovy" invoke="createOrderDeliverySchedule"><!-- 주문 배송 일정 생성 -->
        <description>Creates a delivery schedule for the specified order</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="orderItemSeqId" optional="true"/>
    </service>
    <service name="updateOrderDeliverySchedule" default-entity-name="OrderDeliverySchedule" engine="groovy"
            location="component://order/groovyScripts/order/OrderDeliveryServices.groovy" invoke="updateOrderDeliverySchedule"><!-- 주문 배송 일정 업데이트 -->
        <description>Update an existing delivery schedule for a specified purchase order</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="sendOrderDeliveryScheduleNotification" engine="groovy"
            location="component://order/groovyScripts/order/OrderDeliveryServices.groovy" invoke="sendOrderDeliveryScheduleNotification"><!-- 주문 배송 일정 알림 보내기 -->
        <description>Send Order Delivery Schedule Notification</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="checkSupplierRelatedOrderPermission" engine="groovy"
            location="component://order/groovyScripts/order/OrderDeliveryServices.groovy" invoke="checkSupplierRelatedOrderPermissionService"><!-- 공급업체 관련 주문 권한 확인 -->
        <description>Check Supplier Related Order Permission</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="checkAction" type="String" mode="IN" optional="true"/>
        <attribute name="callingMethodName" type="String" mode="IN" optional="true"/>
        <attribute name="hasSupplierRelatedPermission" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="updateShoppingListQuantitiesFromOrder" engine="java"
            location="org.apache.ofbiz.order.shoppinglist.ShoppingListServices" invoke="updateShoppingListQuantitiesFromOrder"><!-- 주문에서 쇼핑 목록 수량 업데이트 -->
            <description>Given an orderId, this service will look through all its OrderItems and for each shoppingListItemId
              and shoppingListItemSeqId, update the quantity purchased in the ShoppingListItem entity.  Used for
              tracking how many of shopping list items are purchased.  This service is mounted as a seca on storeOrder.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
    </service>

    <!-- serialization test -->
    <service name="shoppingCartRemoteTest" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="shoppingCartRemoteTest"><!-- 장바구니 원격 테스트 -->
        <attribute name="cart" type="org.apache.ofbiz.order.shoppingcart.ShoppingCart" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingCart"/>
            </type-validate>
        </attribute>
    </service>
    <service name="shoppingCartTest" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="shoppingCartTest"><!-- 장바구니 테스트 -->
    </service>

    <!-- OrderShipment Services -->
    <service name="createOrderShipment" engine="entity-auto" default-entity-name="OrderShipment" invoke="create" auth="true"><!-- 주문 배송 생성 -->
        <description>Create OrderShipment</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateOrderShipment" engine="entity-auto" default-entity-name="OrderShipment" invoke="update" auth="true"><!-- 주문 배송 업데이트 -->
        <description>Update OrderShipment</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteOrderShipment" engine="entity-auto" default-entity-name="OrderShipment" invoke="delete" auth="true"><!-- 주문 배송 삭제 -->
        <description>Delete OrderShipment</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- mass order changes -->
    <service name="massOrderChangeInterface" engine="interface" location="" invoke=""><!-- 대량 주문 변경 인터페이스 -->
        <description>Interface for Mass Order Change Services</description>
        <attribute name="orderIdList" type="List" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderIdList"/>
            </type-validate>
        </attribute>
    </service>

    <service name="massPickOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massPickOrders" auth="true"><!-- 대량 피킹 주문 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massChangeOrderApproved" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massChangeApproved" auth="true"><!-- 일괄 변경 지시 승인됨 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massProcessOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massProcessOrders" auth="true"><!-- 대량 처리 주문 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massHoldOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massHoldOrders" auth="true"><!-- 대량 보류 주문 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massCancelOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massCancelOrders" auth="true"><!-- 대량 주문 취소 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massCancelRemainingPurchaseOrderItems" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massCancelRemainingPurchaseOrderItems" auth="true"><!-- 남은 구매 주문 항목 대량 취소 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massRejectOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massRejectOrders" auth="true"><!-- 대량 주문 거부 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massQuickShipOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massQuickShipOrders" auth="true"><!-- 대량 빠른 출하 주문 -->
        <implements service="massOrderChangeInterface"/>
    </service>
    <service name="massPrintOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massPrintOrders" auth="true"><!-- 대량 인쇄 주문 -->
        <implements service="massOrderChangeInterface"/>
        <attribute name="screenLocation" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingScreenLocation"/>
            </type-validate>
        </attribute>
        <attribute name="printerName" type="String" mode="IN" optional="true"/>
    </service>
    <service name="massCreateFileForOrders" engine="java" transaction-timeout="300"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="massCreateFileForOrders" auth="true"><!-- 대량 주문 파일 생성 -->
        <implements service="massOrderChangeInterface"/>
        <attribute name="screenLocation" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingScreenLocation"/>
            </type-validate>
        </attribute>
    </service>

    <service name="getNextOrderId" engine="groovy"
        location="component://order/groovyScripts/order/OrderServices.groovy" invoke="getNextOrderId"><!-- 다음 주문 ID 가져오기 -->
        <description>Get the Next Order ID According to Settings on the PartyAcctgPreference Entity for the given Party</description>
        <implements service="storeOrder" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPartyId"/>
            </type-validate>
        </attribute>
        <attribute name="productStoreId" type="String" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="OUT" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="orderSequence_enforced" engine="simple"
        location="component://order/minilang/order/OrderServices.xml" invoke="orderSequence_enforced"><!-- 주문 순서 시행 -->
        <implements service="getNextOrderId"/>
        <attribute name="partyAcctgPreference" type="org.apache.ofbiz.entity.GenericValue" mode="IN"/>
        <override name="orderId" type="Long" mode="OUT"/>
    </service>

    <!-- OrderHeader -->
    <service name="createOrderHeader" default-entity-name="OrderHeader" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="createOrderHeader" auth="true"><!-- 주문 헤더 생성 -->
        <description>Create OrderHeader</description>
        <auto-attributes include="pk" mode="INOUT" optional="true"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateOrderHeader" default-entity-name="OrderHeader" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="updateOrderHeader" auth="true"><!-- 주문 헤더 업데이트 -->
        <description>Update OrderHeader</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>

    <!-- CommunicationEvents related to orders -->
    <service name="createCommunicationEventOrder" default-entity-name="CommunicationEventOrder" engine="entity-auto" invoke="create" auth="true"><!-- 커뮤니케이션 이벤트 주문 생성 -->
        <description>Create a Communication Event Order</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_CREATE"/>
        </required-permissions>
        <auto-attributes entity-name="CommunicationEventOrder" include="pk" mode="IN"/>
    </service>
    <service name="removeCommunicationEventOrder" default-entity-name="CommunicationEventOrder" engine="entity-auto" invoke="delete" auth="true"><!-- 통신 이벤트 순서 제거 -->
        <description>Remove a Communication Event Order</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_DELETE"/>
        </required-permissions>
        <auto-attributes entity-name="CommunicationEventOrder" include="pk" mode="IN"/>
    </service>
    <service name="createOrderConversation" engine="groovy" invoke="createOrderConversation" auth="true"
             location="component://order/groovyScripts/communications/CommunicationServices.groovy"><!-- 주문 대화 만들기 -->
        <description>Create a order conversation</description>
        <implements service="createCommunicationEvent"/>
        <implements service="createCommunicationEventPurpose"/>
    </service>

    <!-- Order Shipping and Contacts -->
    <service name="createOrderItemShipGroup" default-entity-name="OrderItemShipGroup" engine="entity-auto" invoke="create" auth="true"><!-- 주문 품목 출하 그룹 생성 -->
        <description>Creates a new OrderItemShipGroup.</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_CREATE"/>
        </required-permissions>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="INOUT" optional="true"/>
    </service>
    <service name="updateOrderItemShipGroup" default-entity-name="OrderItemShipGroup" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="updateOrderItemShipGroup" auth="true"><!-- 주문 품목 출하 그룹 업데이트 -->
        <description>Updates OrderItemShipGroup.  The shipmentMethod field is of the format ${shipmentMethodTypeId}@${carrierPartyId}</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <attribute name="oldContactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="shipmentMethod" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechPurposeTypeId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createOrderContactMech" default-entity-name="OrderContactMech" engine="entity-auto" invoke="create" auth="true"><!-- 주문 연락처 만들기 -->
        <description>Create Order Contact Mech</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_CREATE"/>
        </required-permissions>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="updateOrderContactMech" default-entity-name="OrderContactMech" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="updateOrderContactMech" auth="true"><!-- 업데이트 주문 접촉 기계 -->
        <description>Update Order Contact Mech</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute name="oldContactMechId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="removeOrderContactMech" default-entity-name="OrderContactMech" engine="entity-auto" invoke="delete" auth="true"><!-- 주문 접촉 기계 제거 -->
        <description>Remove Order Contact Mech</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_DELETE"/>
        </required-permissions>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- OrderTerms -->
    <service name="createOrderTerm" default-entity-name="OrderTerm" engine="entity-auto" invoke="create" auth="true"><!-- 주문 기간 생성 -->
        <description>Create an Order Term</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_CREATE"/>
        </required-permissions>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="orderItemSeqId" optional="true" default-value="_NA_"/>
    </service>
    <service name="updateOrderTerm" default-entity-name="OrderTerm" engine="entity-auto" invoke="update" auth="true"><!-- 업데이트 주문 기간 -->
        <description>Update an Order Term</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_UPDATE"/>
        </required-permissions>
        <auto-attributes entity-name="OrderTerm" include="pk" mode="IN" optional="false"/>
        <auto-attributes entity-name="OrderTerm" include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeOrderTerm" default-entity-name="OrderTerm" engine="entity-auto" invoke="delete" auth="true"><!-- 주문 기간 제거 -->
        <description>Remove an Order Term</description>
        <required-permissions join-type="AND">
            <check-permission permission="ORDERMGR" action="_DELETE"/>
        </required-permissions>
        <auto-attributes entity-name="OrderTerm" include="pk" mode="IN" optional="false"/>
    </service>

    <service name="checkCreateDropShipPurchaseOrders" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="checkCreateDropShipPurchaseOrders" auth="true"><!-- 직송 구매 발주 생성 확인 -->
        <description>If the order is a sales order, create purchase orders (drop shipments) for each ship group associated to a supplier</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="addPaymentMethodToOrder" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="addPaymentMethodToOrder" auth="true"><!-- 주문에 지불 방법 추가 -->
        <description>Add Payment Method to Order.From this servicewe will call the createOrderPaymentPreference service to create OrderPaymentPreference</description>
        <attribute type="String" mode="IN" name="orderId" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute type="String" mode="IN" name="paymentMethodId" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingPaymentMethodId"/>
            </type-validate>
        </attribute>
        <attribute type="BigDecimal" mode="IN" name="maxAmount"/>
        <attribute type="String" mode="OUT" name="orderPaymentPreferenceId"/>
    </service>

    <service name="completePurchaseOrder" engine="group" auth="true"><!-- 구매 주문 완료 -->
        <description>Completes a purchase order by cancelling remaining (unreceived) item quantities and generating new product requirements
            from those quantities</description>
        <group>
            <invoke name="cancelRemainingPurchaseOrderItems" result-to-context="true"/>
            <invoke name="generateReqsFromCancelledPOItems" result-to-context="true"/>
            <invoke name="checkOrderItemStatus" result-to-context="true"/>
        </group>
    </service>

    <service name="cancelRemainingPurchaseOrderItems" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelRemainingPurchaseOrderItems" auth="true"><!-- 남은 구매 주문 항목 취소 -->
        <description>Cancels remaining (unreceived) quantities for items of an order. Does not consider received-but-rejected quantities.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="generateReqsFromCancelledPOItems" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="generateReqsFromCancelledPOItems" auth="true"><!-- 취소된 구매 주문서 품목에서 요청 생성 -->
        <description>Generates a product requirement for the total cancelled quantity over all order items for each product</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="facilityId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingFacilityId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="getOrderItemInvoicedAmountAndQuantity" engine="java"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="getOrderItemInvoicedAmountAndQuantity" auth="true"><!-- 주문 항목 송장 금액 및 수량 가져오기 -->
        <description>Determines the total amount invoiced for a given order item over all invoices by totalling the item
            subtotal (via OrderItemBilling), any adjustments for that item (via OrderAdjustmentBilling), and the item's
            share of any order-level adjustments (that calculated by applying the percentage of the items total that the item represents
            to the order-level adjustments total (also via OrderAdjustmentBilling). Also returns the quantity invoiced for the item over
            all invoices, to aid in prorating.</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderItemSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="invoicedAmount" type="BigDecimal" mode="OUT" optional="false"/>
        <attribute name="invoicedQuantity" type="BigDecimal" mode="OUT" optional="false"/>
    </service>

    <!-- order lookup services -->
    <service name="findOrders" engine="java" transaction-timeout="300" auth="true" export="true" action="GET"
            location="org.apache.ofbiz.order.order.OrderLookupServices" invoke="findOrders"><!-- 주문 찾기 -->
        <description>Uses dynamic view entity to find orders; returns a list of Order (OrderHeader) objects</description>
        <!-- order header fields -->
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="orderName" type="String" mode="IN" optional="true"/>
        <attribute name="orderTypeId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="orderStatusId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="productStoreId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="orderWebSiteId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="salesChannelEnumId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="createdBy" type="String" mode="IN" optional="true"/>
        <attribute name="terminalId" type="String" mode="IN" optional="true"/>
        <attribute name="transactionId" type="String" mode="IN" optional="true"/>
        <attribute name="externalId" type="String" mode="IN" optional="true"/>
        <attribute name="internalCode" type="String" mode="IN" optional="true"/>
        <attribute name="useEntryDate" type="String" mode="IN" optional="true"/> <!-- Y/N use entryDate instead of orderDate -->
        <attribute name="minDate" type="String" mode="IN" optional="true"/> <!-- converted to Timestamp -->
        <attribute name="maxDate" type="String" mode="IN" optional="true"/> <!-- converted to Timestamp -->
        <attribute name="hasBackOrders" type="String" mode="IN" optional="true"/> <!-- Y to only show orders with items on backorder -->

        <!-- order role fields -->
        <attribute name="userLoginId" type="String" mode="IN" optional="true"/>
        <attribute name="roleTypeId" type="List" mode="IN" optional="true"/> <!-- can pass multiple values as list -->
        <attribute name="partyId" type="String" mode="IN" optional="true"/>

        <!-- order item fields -->
        <attribute name="correspondingPoId" type="String" mode="IN" optional="true"/>
        <attribute name="subscriptionId" type="String" mode="IN" optional="true"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="budgetId" type="String" mode="IN" optional="true"/>
        <attribute name="quoteId" type="String" mode="IN" optional="true"/>

        <!-- Product identification -->
        <attribute name="goodIdentificationTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="goodIdentificationIdValue" type="String" mode="IN" optional="true"/>

        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="finAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="true"/>
        <attribute name="accountNumber" type="String" mode="IN" optional="true"/>
        <attribute name="paymentStatusId" type="String" mode="IN" optional="true"/>

        <!-- shipment/inventory fields -->
        <attribute name="inventoryItemId" type="String" mode="IN" optional="true"/>
        <attribute name="softIdentifier" type="String" mode="IN" optional="true"/>
        <attribute name="serialNumber" type="String" mode="IN" optional="true"/>
        <attribute name="shipmentId" type="String" mode="IN" optional="true"/>

        <!-- inventory problem fields -->
        <attribute name="filterInventoryProblems" type="String" mode="IN" optional="true"/>
        <attribute name="filterPOsWithRejectedItems" type="String" mode="IN" optional="true"/>
        <attribute name="filterPOsOpenPastTheirETA" type="String" mode="IN" optional="true"/>
        <attribute name="filterPartiallyReceivedPOs" type="String" mode="IN" optional="true"/>

        <attribute name="isViewed" type="String" mode="IN" optional="true"/> <!-- show orders with viewed Y/N -->
        <attribute name="shipmentMethod" type="String" mode="IN" optional="true"/>
        <attribute name="gatewayAvsResult" type="String" mode="IN" optional="true"/>
        <attribute name="gatewayScoreResult" type="String" mode="IN" optional="true"/>

        <!-- ship to country fields -->
        <attribute name="countryGeoId" type="String" mode="IN" optional="true"/>
        <attribute name="includeCountry" type="String" mode="IN" optional="true"/>

        <!-- view and page fields -->
        <attribute name="viewIndex" type="Integer" mode="INOUT" optional="true"/>
        <attribute name="viewSize" type="Integer" mode="INOUT" optional="true"/>
        <attribute name="showAll" type="String" mode="INOUT" optional="true"/>

        <!-- index fields -->
        <attribute name="highIndex" type="Integer" mode="OUT" optional="false"/>
        <attribute name="lowIndex" type="Integer" mode="OUT" optional="false"/>

        <!-- inventory problem results -->
        <attribute name="filterInventoryProblemsList" type="List" mode="OUT" optional="true"/>
        <attribute name="filterPOsWithRejectedItemsList" type="List" mode="OUT" optional="true"/>
        <attribute name="filterPOsOpenPastTheirETAList" type="List" mode="OUT" optional="true"/>
        <attribute name="filterPartiallyReceivedPOsList" type="List" mode="OUT" optional="true"/>

        <!-- actual results -->
        <attribute name="paramList" type="String" mode="OUT" optional="false"/>
        <attribute name="orderList" type="List" mode="OUT" optional="false"/>
        <attribute name="orderListSize" type="Integer" mode="OUT" optional="false"/>
    </service>

    <service name="checkOrderIsOnBackOrder" engine="simple" auth="false"
            location="component://order/minilang/order/OrderServices.xml" invoke="checkOrderIsOnBackOrder"><!-- 주문이 이월 주문인지 확인 -->
        <description>Check if an Order is on Back Order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="isBackOrder" type="Boolean" mode="OUT" optional="false"/>
    </service>

    <service name="createTestSalesOrders" engine="java" auth="true" transaction-timeout="300"
            location="org.apache.ofbiz.order.test.OrderTestServices" invoke="createTestSalesOrders"><!-- 테스트 판매 주문 생성 -->
        <description>Bulk create test sales orders. Note that default-values depend on demo data in ecommerce/data.</description>
        <attribute name="productCategoryId" type="String" mode="IN" optional="true" default-value="100"/>
        <attribute name="productStoreId" type="String" mode="IN" optional="true" default-value="9000"/>
        <attribute name="currencyUomId" type="String" mode="IN" optional="true" default-value="USD"/>
        <attribute name="partyId" type="String" mode="IN" optional="true" default-value="DemoCustomer"/>
        <attribute name="numberOfOrders" type="Integer" mode="IN" optional="true" default-value="10"/>
        <attribute name="shipOrder" type="Boolean" mode="IN" optional="true" default-value="false"/>
        <attribute name="numberOfProductsPerOrder" type="Integer" mode="IN" optional="true" default-value="5"/>
        <attribute name="salesChannel" type="String" mode="IN" optional="true"/>
    </service>
    <!-- add require-new-transaction="true" to the following service to fix the lock wait timeout problem, or leave it off to cause that problem -->
    <service name="createTestSalesOrderSingle" engine="java" auth="true" transaction-timeout="300"
        location="org.apache.ofbiz.order.test.OrderTestServices" invoke="createTestSalesOrderSingle"><!-- 테스트 판매 주문 단일 생성 -->
        <description>Bulk create test sales orders. Note that default-values depend on demo data in ecommerce/data.</description>
        <attribute name="productCategoryId" type="String" mode="IN" optional="true" default-value="100"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="productStoreId" type="String" mode="IN" optional="true" default-value="9000"/>
        <attribute name="currencyUomId" type="String" mode="IN" optional="true" default-value="USD"/>
        <attribute name="partyId" type="String" mode="IN" optional="true" default-value="DemoCustomer"/>
        <attribute name="numberOfProductsPerOrder" type="Integer" mode="IN" optional="true" default-value="5"/>
        <attribute name="salesChannel" type="String" mode="IN" optional="true"/>
        <attribute name="shipOrder" type="Boolean" mode="IN" optional="true" default-value="false"/>
        <attribute name="orderId" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="changeOrderPaymentStatus" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setOrderPaymentStatus"><!-- 주문 결제 상태 변경 -->
        <description>Change the payment status of an existing order</description>
        <attribute name="orderPaymentPreferenceId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderPaymentPreferenceId"/>
            </type-validate>
        </attribute>
        <attribute name="changeReason" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createOrderItemChange" engine="simple" auth="true" default-entity-name="OrderItemChange"
            location="component://order/minilang/order/OrderServices.xml" invoke="createOrderItemChange"><!-- 주문 항목 변경 생성 -->
        <description>Creates a new OrderItemChange record</description>
        <auto-attributes mode="OUT" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <override name="orderId" optional="false"/>
        <override name="orderItemSeqId" optional="false"/>
        <override name="changeTypeEnumId" optional="false"/>
    </service>
    <service name="runSubscriptionAutoReorders" engine="java" auth="true" use-transaction="false"
        location="org.apache.ofbiz.order.order.OrderServices" invoke="runSubscriptionAutoReorders"><!-- 구독 자동 재주문 실행 -->
        <description>A service designed to be automatically run by job scheduler to create orders from subscriptions which need to be extended.
            This is done by looking for all subscriptions which are active and where the automaticExtend flag is set to "Y"</description>
    </service>

    <service name="createUpdateShippingAddress" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="createUpdateShippingAddress" auth="true"><!-- 업데이트 배송 주소 생성 -->
        <description>Creates new shipping address and update existing address</description>
        <attribute name="productStoreId" mode="IN" type="String" optional="true"/>
        <attribute name="setDefaultShipping" mode="IN" type="String" optional="true"/>
        <attribute name="keepAddressBook" mode="IN" type="String" optional="true"/>
        <attribute name="partyId" mode="IN" type="String" optional="true"/>
        <attribute name="userLogin" mode="IN" type="org.apache.ofbiz.entity.GenericValue" optional="true"/>
        <attribute name="shipToAttnName" mode="IN" type="String" optional="true"/>
        <attribute name="shipToName" mode="IN" type="String" optional="true"/>
        <attribute name="shipToAddress1" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipToAddress1"/>
            </type-validate>
        </attribute>
        <attribute name="shipToAddress2" mode="IN" type="String" optional="true"/>
        <attribute name="shipToCity" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipToCity"/>
            </type-validate>
        </attribute>
        <attribute name="shipToStateProvinceGeoId" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipToStateProvinceGeoId"/>
            </type-validate>
        </attribute>
        <attribute name="shipToPostalCode" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipToPostalCode"/>
            </type-validate>
        </attribute>
        <attribute name="shipToCountryGeoId" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipToCountryGeoId"/>
            </type-validate>
        </attribute>
        <attribute name="shipToContactMechId" mode="IN" type="String" optional="true"/>
        <attribute name="contactMechId" mode="OUT" type="String" optional="false"/>
        <attribute name="billToContactMechId" mode="IN" type="String" optional="true"/>
    </service>

    <service name="createUpdateBillingAddress" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="createUpdateBillingAddress" auth="true"><!-- 청구서 수신 주소 업데이트 생성 -->
        <description>Creates new billing address and update existing address</description>
        <attribute name="productStoreId" mode="IN" type="String" optional="true"/>
        <attribute name="setDefaultBilling" mode="IN" type="String" optional="true"/>
        <attribute name="keepAddressBook" mode="IN" type="String" optional="true"/>
        <attribute name="useShippingAddressForBilling" mode="IN" type="String" optional="true"/>
        <attribute name="partyId" mode="IN" type="String" optional="true"/>
        <attribute name="userLogin" mode="IN" type="org.apache.ofbiz.entity.GenericValue" optional="true"/>
        <attribute name="billToAttnName" mode="IN" type="String" optional="true"/>
        <attribute name="billToName" mode="IN" type="String" optional="true"/>
        <attribute name="billToAddress1" mode="IN" type="String" optional="true"/>
        <attribute name="billToAddress2" mode="IN" type="String" optional="true"/>
        <attribute name="billToCity" mode="IN" type="String" optional="true"/>
        <attribute name="billToStateProvinceGeoId" mode="IN" type="String" optional="true"/>
        <attribute name="billToPostalCode" mode="IN" type="String" optional="true"/>
        <attribute name="billToCountryGeoId" mode="IN" type="String" optional="true"/>
        <attribute name="shipToContactMechId" mode="IN" type="String" optional="true"/>
        <attribute name="billToContactMechId" mode="IN" type="String" optional="true"/>
        <attribute name="contactMechId" mode="OUT" type="String" optional="false"/>
    </service>

    <service name="createUpdateCreditCard" engine="simple" auth="true" default-entity-name="CreditCard"
            location="component://order/minilang/order/OrderServices.xml" invoke="createUpdateCreditCard"><!-- 업데이트 신용 카드 만들기 -->
        <description>Create/Update credit card</description>
        <attribute name="expMonth" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingExpMonth"/>
            </type-validate>
        </attribute>
        <attribute name="expYear" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingExpYear"/>
            </type-validate>
        </attribute>
        <attribute name="cardType" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingCardType"/>
            </type-validate>
        </attribute>
        <attribute name="cardNumber" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingCardNumber"/>
            </type-validate>
        </attribute>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="companyNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="titleOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="firstNameOnCard" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingFirstNameOnCard"/>
            </type-validate>
        </attribute>
        <attribute name="middleNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="lastNameOnCard" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingLastNameOnCard"/>
            </type-validate>
        </attribute>
        <attribute name="suffixOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="OUT" optional="false"/>
    </service>

   <service name="setUnitPriceAsLastPrice" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="setUnitPriceAsLastPrice" auth="false"><!-- 단가를 마지막 가격으로 설정 -->
        <description>Sets unit price as last price for product</description>
        <attribute name="supplierPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="orderTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItems" type="List" mode="IN" optional="true"/>
        <attribute name="facilityId" type="String" mode="IN" optional="true"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="unitCost" mode="IN" type="String" optional="true"/>
        <attribute name="itemPriceMap" type="Map" mode="IN" string-map-prefix="ipm_" optional="true"/>
        <attribute name="overridePriceMap" type="Map" mode="IN" string-map-prefix="opm_" optional="true"/>
        <attribute name="orderCurrencyUnitPrice" type="String" mode="IN" optional="true"/>
   </service>

    <service name="cancelAllBackOrders" engine="simple"
            location="component://order/minilang/order/OrderServices.xml" invoke="cancelAllBackOrders" auth="true"><!-- 모든 이월 주문 취소 -->
        <description>Cancels those back orders from suppliers whose cancel back order date (cancelBackOrderDate) has passed the current date</description>
    </service>

    <service name="updateShippingMethodAndCharges" engine="simple" 
            location="component://order/minilang/order/OrderServices.xml" invoke="updateShippingMethodAndCharges"><!-- 배송 방법 및 요금 업데이트 -->
        <description>Compare order's shipping amount and new shipping amount(based on weight and dimension of packages).If new shipping amount is more then or less than default percentage (defined in shipment.properties) of Order's shipping amount, then shipping method and shipping charges are updated. And if new shipping amount is not more then or less than default percentage (defined in shipment.properties)% of Order's shipping amount then only shipping method is updated.Also updates record in ShipmentRouteSegment entity</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="oldContactMechId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOldContactMechId"/>
            </type-validate>
        </attribute>
        <attribute name="shipmentMethodAndAmount" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipmentMethodAndAmount"/>
            </type-validate>
        </attribute>
        <attribute name="contactMechPurposeTypeId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingContactMechPurposeTypeId"/>
            </type-validate>
        </attribute>
        <attribute name="orderAdjustmentId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderAdjustmentId"/>
            </type-validate>
        </attribute>
        <attribute name="shippingAmount" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShippingAmount"/>
            </type-validate>
        </attribute>
        <attribute name="shipmentId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipmentId"/>
            </type-validate>
        </attribute>
        <attribute name="shipmentRouteSegmentId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipmentRouteSegmentId"/>
            </type-validate>
        </attribute>
    </service>

    <service name="setShippingInstructions" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setShippingInstructions"><!-- 배송 지침 설정 -->
        <description>Set the shipping instructions for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="shippingInstructions" type="String" mode="IN" optional="true"/>
    </service>
    <service name="setGiftMessage" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="setGiftMessage"><!-- 선물 메시지 설정 -->
        <description>Set Gift message for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
        <attribute name="shipGroupSeqId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingShipGroupSeqId"/>
            </type-validate>
        </attribute>
        <attribute name="giftMessage" type="String" mode="IN" optional="true"/>
    </service>
    <service name="createAlsoBoughtProductAssocs" engine="java" auth="true" 
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createAlsoBoughtProductAssocs"><!-- 함께 구매한 제품 조합 생성 -->
        <description>
            Cycles through all newly created sales orders and creates ProductAssoc records (of type ALSO_BOUGHT) for products 
            that were purchased together.  If a ProductAssoc record already exists then the quantity field is incremented by one.
            Newly created orders are determined by looking for orders that were created after the JobSandbox.startDateTime of the
            previous async execution of this service, alternatively the service can be supplied with a orderEntryFromDateTime 
            parameter which will process all orders placed after that date/time or as a final option processAllOrders can be set
            to true to force a calculation of all orders ever placed with orderEntryFromDateTime being ignored.
        </description>
        <attribute name="orderEntryFromDateTime" mode="IN" type="Timestamp" optional="true"/>
        <attribute name="processAllOrders" mode="IN" type="Boolean" optional="true"/>
    </service>
    <service name="createAlsoBoughtProductAssocsForOrder" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="createAlsoBoughtProductAssocsForOrder"><!-- 주문을 위해 함께 구매한 제품 조합 생성 -->
        <description>
            Creates ProductAssoc records (of type ALSO_BOUGHT) for products that were purchased together in the Order.  If a ProductAssoc record already exists then the quantity field is incremented by one.  If a variant product has
            been ordered then the association is made to its parent product.
        </description>
        <attribute name="orderId" mode="IN" type="String" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingOrderId"/>
            </type-validate>
        </attribute>
    </service>
    <service name="productAvailabalityByFacility" engine="simple" location="component://order/minilang/order/OrderServices.xml"
            invoke="productAvailabalityByFacility" auth="true"><!-- 시설별 제품 가용성 -->
        <description>
            Calculate ATP and QOH According For each facility
        </description>
        <attribute name="productId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingProductId"/>
            </type-validate>
        </attribute>
        <attribute name="ownerPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="availabalityList" type="List" mode="OUT"/>
    </service>
    
    <service name="addOrderItemShipGroup" engine="java" auth="true" default-entity-name="OrderItemShipGroup"
             location="org.apache.ofbiz.order.order.OrderServices" invoke="addOrderItemShipGroup"><!-- 주문 품목 배송 그룹 추가 -->
        <description>Creates a new OrderItemShipGroup with maySplit and isGift filled.</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="shipGroupSeqId" mode="INOUT" optional="true"/>
    </service>
    <service name="deleteOrderItemShipGroup" engine="java" auth="true" default-entity-name="OrderItemShipGroup"
             location="org.apache.ofbiz.order.order.OrderServices"
             invoke="deleteOrderItemShipGroup"><!-- 주문 항목 배송 그룹 삭제 -->
        <description>delete Order Item Ship Group </description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="addOrderItemShipGroupAssoc" engine="java" auth="true" default-entity-name="OrderItemShipGroupAssoc"
             location="org.apache.ofbiz.order.order.OrderServices"
             invoke="addOrderItemShipGroupAssoc"><!-- 주문 품목 배송 그룹 연관 추가 -->
        <description>add Order Item Ship Group Assoc and if order item ship group not exit, create it before</description>
        <implements service="addOrderItemShipGroup" optional="true"/>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateOrderItemShipGroupAssoc" engine="java" auth="true" default-entity-name="OrderItemShipGroupAssoc"
             location="org.apache.ofbiz.order.order.OrderServices"
             invoke="updateOrderItemShipGroupAssoc"><!-- 업데이트 주문 품목 출하 그룹 연관 -->
        <description>update OrderItem from OISG, totalQuantity is used only if controller is a multi services </description>
        <auto-attributes include="all" mode="IN" optional="true"/>
        <attribute name="totalQuantity" type="BigDecimal"  mode="INOUT"  optional="true"/>
        <attribute name="rowCount" type="Integer" mode="IN" optional="true"/>
        <attribute name="rowNumber" type="Integer" mode="INOUT" optional="true"/>
    </service>
    <service name="deleteOrderItemShipGroupAssoc" engine="entity-auto" auth="true" default-entity-name="OrderItemShipGroupAssoc" invoke="delete"><!-- 주문 품목 출하 그룹 연관 삭제 -->
        <description>delete Order Item Ship Group Assoc</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- Use for link the payment and the invoice When Received Payment -->
    <service name="createOrderPaymentApplication" engine="simple" auth="true"
            location="component://order/minilang/order/OrderServices.xml" invoke="createOrderPaymentApplication"><!-- 주문 결제 애플리케이션 생성 -->
        <description>Create Order Payment Application</description>
        <attribute name="paymentId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="createTestOrderRentalProduct" engine="simple" auth="true"
        location="component://order/minilang/test/ShoppingCartTests.xml" invoke="testCreateOrderRentalProduct"><!-- 테스트 주문 렌탈 제품 생성 -->
        <description>Create Test Order Rental of an asset which is shipped from and returned to inventory</description>
    </service>
    
    <service name="testCreateShoppinCartAndOrder" engine="simple" auth="true"
        location="component://order/minilang/test/ShoppingCartTests.xml" invoke="testCreateShoppinCartAndOrder"><!-- 테스트 장바구니 생성 및 주문 -->
        <description>Create an order using a shopping cart - only used internally in ShoppingCartTests.xml for test purpose</description>
        <attribute name="orderMap" type="Map" mode="OUT"/>
    </service>
    
    <!-- Order Item Attribute -->
    <service name="createOrderItemAttribute" engine="entity-auto" default-entity-name="OrderItemAttribute" invoke="create" auth="true"><!-- 주문 항목 속성 생성 -->
        <description>Create Order Item Attribute</description>
        <auto-attributes mode="IN" entity-name="OrderItemAttribute" include="pk" optional="false"/>
        <auto-attributes mode="IN" entity-name="OrderItemAttribute" include="nonpk" optional="true"/>
    </service>
    <service name="updateOrderItemAttribute" engine="entity-auto" default-entity-name="OrderItemAttribute" invoke="update" auth="true"><!-- 주문 항목 속성 업데이트 -->
        <description>Update Order Item Attribute</description>
        <auto-attributes mode="IN" entity-name="OrderItemAttribute" include="pk" optional="false"/>
        <auto-attributes mode="IN" entity-name="OrderItemAttribute" include="nonpk" optional="true"/>
    </service>
    <service name="deleteOrderItemAttribute" engine="entity-auto" default-entity-name="OrderItemAttribute" invoke="delete" auth="true"><!-- 주문 항목 속성 삭제 -->
        <description>Delete Order Item Attribute</description>
        <auto-attributes mode="IN" entity-name="OrderItemAttribute" include="pk" optional="false"/>
    </service>
    
    <!-- Order Item Group Order -->
    <service name="createOrderItemGroupOrder" engine="entity-auto" default-entity-name="OrderItemGroupOrder" invoke="create" auth="true"><!-- 주문 항목 그룹 주문 생성 -->
        <description>Create Order Item Group Order</description>
        <auto-attributes mode="IN" entity-name="OrderItemGroupOrder" include="pk" optional="false"/>
    </service>
    
    <service name="countProductQuantityOrdered" engine="java"
        location="org.apache.ofbiz.order.order.OrderServices" invoke="countProductQuantityOrdered" auth="true"><!-- 주문한 제품 수량 -->
        <description>count Product Quantity Ordered</description>
        <attribute name="productId" type="String" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingProductId"/>
            </type-validate>
        </attribute>
        <attribute name="quantity" type="BigDecimal" mode="IN" optional="false">
            <type-validate>
                <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingQuantity"/>
            </type-validate>
        </attribute>
    </service>
    
    <service name="moveItemBetweenShipGroups" engine="simple"
        location="component://order/minilang/order/OrderServices.xml" invoke="moveItemBetweenShipGroups"><!-- 선박 그룹 간에 품목 이동 -->
        <description>Move order items between ship groups</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderItemSeqId" type="String" mode="IN"/>
        <attribute name="fromGroupIndex" type="String" mode="IN"/>
        <attribute name="toGroupIndex" type="String" mode="IN"/>
        <attribute name="quantity" type="BigDecimal" mode="IN"/>
    </service>
    
    <service name="updateShipGroupShipInfo" engine="java" location="org.apache.ofbiz.order.order.OrderServices" invoke="updateShipGroupShipInfo" auth="true"><!-- 선박 그룹 선박 정보 업데이트 -->
            <description>Update Shipping Information on Order View</description>
         <attribute name="contactMechId" type="String" mode="IN" optional="false">
             <type-validate>
                 <fail-property resource="OrderErrorUiLabels" property="OrderRequiredFieldMissingContactMechId"/>
             </type-validate>
         </attribute>
         <attribute name="orderId" type="String" mode="IN" optional="true"/>
         <attribute name="oldContactMechId" type="String" mode="IN" optional="true"/>
         <attribute name="shipGroupSeqId" type="String" mode="IN" optional="true"/>
         <attribute name="shipmentMethod" type="String" mode="IN" optional="true"/>
    </service>

    <!-- OrderContent services -->
    <service name="createOrderContent" default-entity-name="OrderContent" engine="entity-auto" invoke="create" auth="true"><!-- 주문 콘텐츠 생성 -->
        <description>Create a OrderContent</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes include="pk" mode="INOUT" optional="false"/>
    </service>
    <service name="expireOrderContent" default-entity-name="OrderContent" engine="entity-auto" invoke="expire" auth="true"><!-- 주문 내용 만료 -->
         <description>Expire a OrderContent</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="createOrderAdjustmentTypeAttr" default-entity-name="OrderAdjustmentTypeAttr" engine="entity-auto" invoke="create" auth="true"><!-- 주문 조정 유형 속성 생성 -->
        <description>Create a OrderAdjustmentTypeAttr</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateOrderAdjustmentTypeAttr" default-entity-name="OrderAdjustmentTypeAttr" engine="entity-auto" invoke="update" auth="true"><!-- 주문 조정 유형 속성 업데이트 -->
        <description>Update a OrderAdjustmentTypeAttr</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteOrderAdjustmentTypeAttr" default-entity-name="OrderAdjustmentTypeAttr" engine="entity-auto" invoke="delete" auth="true"><!-- 주문 조정 유형 속성 삭제 -->
        <description>Delete a OrderAdjustmentTypeAttr</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- ProductOrderItem services -->
    <service name="createProductOrderItem" default-entity-name="ProductOrderItem" engine="entity-auto" invoke="create" auth="true"><!-- 제품 주문 항목 생성 -->
        <description>Create a ProductOrderItem</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes include="pk" mode="INOUT" optional="false"/>
    </service>
    <service name="updateProductOrderItem" default-entity-name="ProductOrderItem" engine="entity-auto" invoke="update" auth="true"><!-- 제품 주문 항목 업데이트 -->
        <description>Update a ProductOrderItem</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteProductOrderItem" default-entity-name="ProductOrderItem" engine="entity-auto" invoke="delete" auth="true"><!-- 제품 주문 항목 삭제 -->
        <description>Delete a ProductOrderItem</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- Allocation Plan services -->
    <service name="createAllocationPlanHeader" engine="entity-auto" default-entity-name="AllocationPlanHeader" invoke="create" auth="true"><!-- 할당 계획 헤더 생성 -->
        <description>Create Allocation Plan Header</description>
        <auto-attributes include="pk" mode="IN"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="planId" mode="INOUT"/>
        <override name="planTypeId" optional="false"/>
    </service>
    <service name="updateAllocationPlanHeader" engine="entity-auto" default-entity-name="AllocationPlanHeader" invoke="update" auth="true"><!-- 할당 계획 헤더 업데이트 -->
        <description>Update Allocation Plan Header</description>
        <auto-attributes include="pk" mode="IN"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteAllocationPlanHeader" engine="entity-auto" default-entity-name="AllocationPlanHeader" invoke="delete" auth="true"><!-- 할당 계획 헤더 삭제 -->
        <description>Delete Allocation Plan Header</description>
        <auto-attributes include="pk" mode="IN"/>
    </service>
    <service name="createAllocationPlanItem" engine="entity-auto" default-entity-name="AllocationPlanItem" invoke="create" auth="true"><!-- 할당 계획 항목 생성 -->
        <description>Create Allocation Plan Item</description>
        <auto-attributes include="pk" mode="IN"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="planItemSeqId" mode="OUT"/>
        <override name="planMethodEnumId" optional="false"/>
        <override name="productId" optional="false"/>
        <override name="orderId" optional="false"/>
        <override name="orderItemSeqId" optional="false"/>
    </service>
    <service name="updateAllocationPlanItem" engine="entity-auto" default-entity-name="AllocationPlanItem" invoke="update" auth="true"><!-- 할당 계획 항목 업데이트 -->
        <description>Update Allocation Plan Item</description>
        <auto-attributes include="pk" mode="INOUT"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteAllocationPlanItem" engine="entity-auto" default-entity-name="AllocationPlanItem" invoke="delete" auth="true"><!-- 할당 계획 항목 삭제 -->
        <description>Delete Allocation Plan Item</description>
        <auto-attributes include="pk" mode="IN"/>
    </service>
    <service name="associateOrderWithAllocationPlans" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="associateOrderWithAllocationPlans"><!-- 주문을 할당 계획과 연결 -->
        <description>Associate order with the allocation plans of inline products</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="productPlanMap" mode="OUT" type="Map" optional="true"/>
    </service>
    <service name="approveAllocationPlanItems" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="approveAllocationPlanItems"><!-- 할당 계획 항목 승인 -->
        <description>Mark all the items of an allocation plan as approve</description>
        <attribute name="planId" type="String" mode="IN"/>
    </service>
    <service name="cancelAllocationPlanItems" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelAllocationPlanItems"><!-- 할당 계획 항목 취소 -->
        <description>Mark all the items of an allocation plan as cancel</description>
        <attribute name="planId" type="String" mode="IN"/>
    </service>
    <service name="changeAllocationPlanStatus" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="changeAllocationPlanStatus"><!-- 할당 계획 상태 변경 -->
        <description>Change Allocation Plan Status</description>
        <attribute name="planId" type="String" mode="INOUT"/>
        <attribute name="statusId" type="String" mode="IN"/>
        <attribute name="oldStatusId" type="String" mode="OUT"/>
    </service>
    <service name="changeAllocationPlanItemStatus" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="changeAllocationPlanItemStatus"><!-- 할당 계획 항목 상태 변경 -->
        <description>Change Allocation Plan Item Status</description>
        <attribute name="planId" type="String" mode="IN"/>
        <attribute name="planItemSeqId" type="String" mode="IN"/>
        <attribute name="statusId" type="String" mode="IN"/>
        <attribute name="oldStatusId" type="String" mode="OUT"/>
    </service>
    <service name="completeAllocationPlanItemByOrderItem" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="completeAllocationPlanItemByOrderItem"><!-- 주문 항목별 할당 계획 항목 완료 -->
        <description>Complete Allocation Plan Item By Providing Order Id and Item Seq Id</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="cancelAllocationPlanItemByOrderItem" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="cancelAllocationPlanItemByOrderItem"><!-- 주문 항목별 할당 계획 항목 취소 -->
        <description>Cancel Allocation Plan Item By Providing Order Id and Item Seq Id</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateAllocatedQuantityOnOrderItemChange" engine="java" auth="true"
            location="org.apache.ofbiz.order.order.OrderServices" invoke="updateAllocatedQuantityOnOrderItemChange"><!-- 주문 품목 변경 시 할당 수량 업데이트 -->
        <description>Update Allocated Quantity On Order Item Change</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="createAllocationPlanAndItems" engine="java" auth="true"
             location="org.apache.ofbiz.order.order.OrderServices" invoke="createAllocationPlanAndItems"><!-- 할당 계획 및 항목 생성 -->
        <description>Create Allocation Plan And Items</description>
        <attribute name="productId" type="String" mode="IN"/>
        <attribute name="planName" type="String" mode="IN" optional="true"/>
        <attribute name="itemListSize" type="Integer" mode="IN"/>
        <attribute name="itemOrderIdMap" type="Map" mode="IN" string-map-prefix="ioim_"/>
        <attribute name="itemOrderItemSeqIdMap" type="Map" mode="IN" string-map-prefix="ioisim_"/>
        <attribute name="itemAllocatedQuantityMap" type="Map" mode="IN" string-map-prefix="iaqm_"/>
        <attribute name="planId" type="String" mode="OUT"/>
    </service>

    <service name="isInventoryAllocationRequired" engine="java" auth="true"
             location="org.apache.ofbiz.order.order.OrderServices" invoke="isInventoryAllocationRequired"><!-- 재고 할당이 필요합니다 -->
        <description>Check whether the inventory allocation is enabled or not at product store.</description>
        <attribute name="serviceContext" type="Map" mode="IN"/>
        <attribute name="serviceName" type="String" mode="IN"/>
        <attribute name="conditionReply" type="Boolean" mode="OUT"/>
    </service>

    <service name="updateAllocationPlanItems" engine="java" auth="true"
             location="org.apache.ofbiz.order.order.OrderServices" invoke="updateAllocationPlanItems"><!-- 할당 계획 항목 업데이트 -->
        <description>Update Allocation Plan Items</description>
        <attribute name="planId" type="String" mode="IN"/>
        <attribute name="orderIdMap" type="Map" mode="IN" string-map-prefix="oim_"/>
        <attribute name="orderItemSeqIdMap" type="Map" mode="IN" string-map-prefix="oisim_"/>
        <attribute name="productIdMap" type="Map" mode="IN" string-map-prefix="pim_"/>
        <attribute name="prioritySeqIdMap" type="Map" mode="IN" string-map-prefix="psim_"/>
        <attribute name="allocatedQuantityMap" type="Map" mode="IN" string-map-prefix="aqm_"/>
        <attribute name="rowSubmitMap" type="Map" mode="IN" string-map-prefix="rsm_"/>
    </service>

    <service name="uploadOrderContentFile" engine="group" transaction-timeout="300"><!-- 주문 콘텐츠 파일 업로드 -->
        <description>Upload and attach a file to an order</description>
        <group>
            <invoke name="createContentFromUploadedFile" result-to-context="true"/>
            <invoke name="createOrderContent"/>
        </group>
    </service>
</services>
